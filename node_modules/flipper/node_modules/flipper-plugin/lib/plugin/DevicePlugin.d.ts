import { SandyPluginDefinition } from './SandyPluginDefinition';
import { BasePluginInstance, BasePluginClient } from './PluginBase';
import { FlipperLib } from './FlipperLib';
import { DeviceType as PluginDeviceType } from 'flipper-plugin-lib';
import { Atom, ReadOnlyAtom } from '../state/atom';
export declare type DeviceLogListener = (entry: DeviceLogEntry) => void;
export declare type DeviceLogEntry = {
    readonly date: Date;
    readonly type: LogLevel;
    readonly message: string;
    readonly pid: number;
    readonly tid: number;
    readonly app?: string;
    readonly tag: string;
};
export declare type LogLevel = 'unknown' | 'verbose' | 'debug' | 'info' | 'warn' | 'error' | 'fatal';
export interface Device {
    readonly realDevice: any;
    readonly isArchived: boolean;
    readonly isConnected: boolean;
    readonly os: string;
    readonly serial: string;
    readonly deviceType: DeviceType;
    onLogEntry(cb: DeviceLogListener): () => void;
}
export declare type DeviceType = PluginDeviceType;
export declare type DevicePluginPredicate = (device: Device) => boolean;
export declare type DevicePluginFactory = (client: DevicePluginClient) => object;
export interface DevicePluginClient extends BasePluginClient {
    isPluginAvailable(pluginId: string): boolean;
    selectPlugin(pluginId: string, deeplinkPayload?: unknown): void;
    readonly isConnected: boolean;
    readonly connected: ReadOnlyAtom<boolean>;
}
export interface RealFlipperDevice {
    os: string;
    serial: string;
    isArchived: boolean;
    connected: Atom<boolean>;
    deviceType: DeviceType;
    addLogListener(callback: DeviceLogListener): Symbol;
    removeLogListener(id: Symbol): void;
    addLogEntry(entry: DeviceLogEntry): void;
    devicePlugins: string[];
}
export declare class SandyDevicePluginInstance extends BasePluginInstance {
    static is(thing: any): thing is SandyDevicePluginInstance;
    readonly client: DevicePluginClient;
    constructor(flipperLib: FlipperLib, definition: SandyPluginDefinition, realDevice: RealFlipperDevice, pluginKey: string, initialStates?: Record<string, any>);
    toJSON(): string;
}
//# sourceMappingURL=DevicePlugin.d.ts.map