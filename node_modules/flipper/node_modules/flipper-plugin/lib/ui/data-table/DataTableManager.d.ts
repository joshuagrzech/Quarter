import type { DataTableColumn } from './DataTable';
import { Percentage } from '../../utils/widthUtils';
import { MutableRefObject, Reducer } from 'react';
import { DataSource, DataSourceVirtualizer } from '../../data-source/index';
export declare type OnColumnResize = (id: string, size: number | Percentage) => void;
export declare type Sorting<T = any> = {
    key: keyof T;
    direction: Exclude<SortDirection, undefined>;
};
export declare type SortDirection = 'asc' | 'desc' | undefined;
export declare type Selection = {
    items: ReadonlySet<number>;
    current: number;
};
declare type Action<Name extends string, Args = {}> = {
    type: Name;
} & Args;
declare type DataManagerActions<T> = Action<'reset'> | Action<'resizeColumn', {
    column: keyof T;
    width: number | Percentage;
}> | Action<'sortColumn', {
    column: keyof T;
    direction: SortDirection;
}> | Action<'toggleColumnVisibility', {
    column: keyof T;
}> | Action<'setSearchValue', {
    value: string;
}> | Action<'selectItem', {
    nextIndex: number | ((currentIndex: number) => number);
    addToSelection?: boolean;
    allowUnselect?: boolean;
}> | Action<'selectItemById', {
    id: string;
    addToSelection?: boolean;
}> | Action<'addRangeToSelection', {
    start: number;
    end: number;
    allowUnselect?: boolean;
}> | Action<'clearSelection', {}> | Action<'addColumnFilter', {
    column: keyof T;
    value: string;
    disableOthers?: boolean;
}> | Action<'removeColumnFilter', {
    column: keyof T;
    index: number;
}> | Action<'toggleColumnFilter', {
    column: keyof T;
    index: number;
}> | Action<'setColumnFilterFromSelection', {
    column: keyof T;
}> | Action<'appliedInitialScroll'> | Action<'toggleUseRegex'> | Action<'toggleAutoScroll'> | Action<'setAutoScroll', {
    autoScroll: boolean;
}>;
declare type DataManagerConfig<T> = {
    dataSource: DataSource<T>;
    defaultColumns: DataTableColumn<T>[];
    scope: string;
    onSelect: undefined | ((item: T | undefined, items: T[]) => void);
    virtualizerRef: MutableRefObject<DataSourceVirtualizer | undefined>;
    autoScroll?: boolean;
    enablePersistSettings?: boolean;
};
declare type DataManagerState<T> = {
    config: DataManagerConfig<T>;
    usesWrapping: boolean;
    storageKey: string;
    initialOffset: number;
    columns: DataTableColumn[];
    sorting: Sorting<T> | undefined;
    selection: Selection;
    searchValue: string;
    useRegex: boolean;
    autoScroll: boolean;
};
export declare type DataTableReducer<T> = Reducer<DataManagerState<T>, DataManagerActions<T>>;
export declare type DataTableDispatch<T = any> = React.Dispatch<DataManagerActions<T>>;
export declare const dataTableManagerReducer: (state: DataManagerState<any>, args_0: DataManagerActions<any>) => DataManagerState<any>;
export declare type DataTableManager<T> = {
    reset(): void;
    selectItem(index: number | ((currentSelection: number) => number), addToSelection?: boolean, allowUnselect?: boolean): void;
    addRangeToSelection(start: number, end: number, allowUnselect?: boolean): void;
    selectItemById(id: string, addToSelection?: boolean): void;
    clearSelection(): void;
    getSelectedItem(): T | undefined;
    getSelectedItems(): readonly T[];
    toggleColumnVisibility(column: keyof T): void;
    sortColumn(column: keyof T, direction?: SortDirection): void;
    setSearchValue(value: string): void;
    dataSource: DataSource<T>;
};
export declare function createDataTableManager<T>(dataSource: DataSource<T>, dispatch: DataTableDispatch<T>, stateRef: MutableRefObject<DataManagerState<T>>): DataTableManager<T>;
export declare function createInitialState<T>(config: DataManagerConfig<T>): DataManagerState<T>;
export declare function getSelectedItem<T>(dataSource: DataSource<T>, selection: Selection): T | undefined;
export declare function getSelectedItems<T>(dataSource: DataSource<T>, selection: Selection): T[];
export declare function savePreferences(state: DataManagerState<any>, scrollOffset: number): void;
export declare function computeDataTableFilter(searchValue: string, useRegex: boolean, columns: DataTableColumn[]): ((item: any) => boolean) | undefined;
export declare function safeCreateRegExp(source: string): RegExp | undefined;
export declare function computeSetSelection(base: Selection, nextIndex: number | ((currentIndex: number) => number), addToSelection?: boolean, allowUnselect?: boolean): Selection;
export declare function computeAddRangeToSelection(base: Selection, start: number, end: number, allowUnselect?: boolean): Selection;
export {};
//# sourceMappingURL=DataTableManager.d.ts.map